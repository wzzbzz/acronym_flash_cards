{% extends 'base.html.twig' %}

{% block title %}Arduino Acronym Flashcards{% endblock %}

{% block body %}
<div class="container-fluid w-100 mt-4">
    <h2 class="mb-4 text-center">Arduino Flash Cards</h2> 
    {% if mode == 'study' %}
        {# <p class="text-muted text-center">All acronyms and their meanings shown for study.</p>  #}

        <div class="container-fluid p-4" data-controller="card-browser">
        {% for category in categories %}
            {% for acronym in category.acronyms %}
                <div class="card shadow-sm d-flex flex-column justify-content-center align-items-center text-center mx-auto mb-4"
     style="
        height: 80vh;
        width: 100%;
        max-width: 90vw
        padding: 2rem;
        border-radius: 1rem;
     "
     data-card-browser-target="card"
     data-controller="reveal">



                    <h2 class="display-1 mb-4">{{ acronym.code }}</h2>
                    <p class="lead display-2">{{ acronym.meaning }}</p>

                    {% if acronym.ogImageUrl %}
                        <img src="{{ acronym.ogImageUrl }}" alt="Image for {{ acronym.code }}"
                            class="img-fluid rounded my-3"
                            style="max-height: 200px; max-width: 100%; object-fit: contain;">
                    {% endif %}

                    {% if acronym.ogDescription %}
                        <p class="text-muted fs-1">{{ acronym.ogDescription }}</p>
                    {% endif %}

                    {% if acronym.wikipediaUrl %}
                        <a href="{{ acronym.wikipediaUrl }}" target="_blank" class="btn btn-outline-secondary ">
                            Learn More
                        </a>
                    {% endif %}
                </div>
            {% endfor %}
        {% endfor %}

        {{ include('partials/_card_navigation.html.twig') }}
    </div>


    {% elseif mode == 'test' %}
        <p class="text-muted text-center">Test yourself by guessing the meanings of acronyms.</p>

        <div class="container p-4" data-controller="card-browser">
            {% for category in categories %}
                {% for acronym in category.acronyms %}
                    <div class="card shadow-sm d-flex flex-column justify-content-center align-items-center text-center mx-auto mb-4"
     style="
        height: 80vh;
        width: 100%;
        max-width: 90vw;
        padding: 2rem;
        border-radius: 1rem;
     "
     data-card-browser-target="card"
     data-controller="reveal">
                        <h2 class="display-1 mb-4">{{ acronym.code }}</h2>

                        <button type="button" class="btn btn-outline-primary btn-lg mb-3"
                                data-action="click->reveal#toggle">
                            Reveal Meaning
                        </button>

                        <div data-reveal-target="meaning" class="d-none">
                            <p class="lead display-2">{{ acronym.meaning }}</p>

                            {% if acronym.ogImageUrl %}
                                <img src="{{ acronym.ogImageUrl }}" alt="Image for {{ acronym.code }}"
                                    class="img-fluid rounded my-3"
                                    style="max-height: 200px; max-width: 100%; object-fit: contain;">
                            {% endif %}

                            {% if acronym.ogDescription %}
                                <p class="text-muted fs-1">{{ acronym.ogDescription }}</p>
                            {% endif %}

                            {% if acronym.wikipediaUrl %}
                                <a href="{{ acronym.wikipediaUrl }}" target="_blank" class="btn btn-outline-secondary">
                                    Learn More
                                </a>
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
            {% endfor %}

            {{ include('partials/_card_navigation.html.twig') }}
        </div>
    {% endif %}


    <div class="mt-4 text-center">
        <a href="{{ path('home') }}" class="btn btn-secondary">‚Üê Back to Home</a>
    </div>
</div>
{% endblock %}
